<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Appmixer Embed Designer Demo</title>
    <link rel="stylesheet" type="text/css" href="./style.css">
</head>
<body>
    <div class="container">
        <div class="guide">
            <img id="yoursaas" src="./assets/yoursaas.svg" />

            <h1>Appmixer Embedded Designer Demo</h1>
            <p>This demo shows you how to embed the Appmixer Designer in your own web application.</p>

            <h2>Try it yourself</h2>
            <p>Try to create and start a new automation just as your end-user would.</p>

            <p>Both the Flow Manager and the Designer can be customized to match your branding and you can also build your own custom connectors and utilities to let
            your end-users fully automate your and other connected apps.</p>

            <p class="small">Note that this automation will run in the context of an Appmixer virtual user that was created for you in the background when you opened this page.</p>
            <p class="small">The Designer and Flow Manager is rendered in the page natively, using the Appmixer JavaScript SDK. It is not included in an iframe.</p>

            <a id="github-link" href="https://github.com/clientIO/appmixer-demo-embedded-designer" target="_blank"><img src="./assets/github-mark.svg" /></a>
        </div>
        <div class="app">
            <div id="automations-placeholder"></div>
            <div id="designer-placeholder"></div>
        </div>
    </div>

    <script>
     function loadScript(url, callback) {
         const script = document.createElement('script');
         script.src = url;
         script.onload = callback;
         script.onerror = console.error;
         document.head.appendChild(script);
     }

     // The Appmixer SDK is located at https://my.YOUR_TENANT.appmixer.cloud/appmixer/appmixer.js.
     let APPMIXER_STUDIO_URL = (new URLSearchParams(window.location.search)).get('studioUrl');
     if (!APPMIXER_STUDIO_URL) {
         APPMIXER_STUDIO_URL = prompt('Please provide your Appmixer Studio URL (https://my.YOUR_TENANT.appmixer.cloud).');
     }

     loadScript(APPMIXER_STUDIO_URL + '/appmixer/appmixer.js', () => {
         loadScript('./main.js');
     });
    </script>
</body>
</html>

